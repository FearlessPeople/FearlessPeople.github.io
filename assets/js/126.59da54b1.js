(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{572:function(s,a,n){"use strict";n.r(a);var t=n(10),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),n("p",[s._v("virtualenv 是一个创建独立Python环境的工具。")]),s._v(" "),n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),n("p",[s._v("参考"),n("a",{attrs:{href:"https://virtualenv.pypa.io/en/stable/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),n("OutboundLink")],1),s._v("地址")]),s._v(" "),n("p",[s._v("本次安装版本为：16.0.0")]),s._v(" "),n("p",[s._v("建议安装virtualenv-1.9或更高版本。在1.9版之前，virtualenv中包含的pip没有通过SSL从PyPI下载。")]),s._v(" "),n("p",[s._v("要使用pip进行全局安装（如果全局安装了pip 1.3或更高版本）：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" pip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" virtualenv\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("或者获取最新的未发布的开发版本：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" pip "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" https://github.com/pypa/virtualenv/tarball/master\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("要从源代码全局安装XX版本：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -O https://pypi.python.org/packages/source/v/virtualenv/virtualenv-X.X.tar.gz\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvfz virtualenv-X.X.tar.gz\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" virtualenv-X.X\n$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" python setup.py "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("要从源本地"),n("em",[s._v("使用")]),s._v("：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -O https://pypi.python.org/packages/source/v/virtualenv/virtualenv-X.X.tar.gz\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvfz virtualenv-X.X.tar.gz\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" virtualenv-X.X\n$ python virtualenv.py myVE\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),n("h3",{attrs:{id:"创建一个虚拟环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建一个虚拟环境"}},[s._v("#")]),s._v(" 创建一个虚拟环境")]),s._v(" "),n("p",[s._v("创建虚拟环境命令为：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ virtualenv ENV\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("其中：ENV表示你想在哪个目录下创建虚拟环境， 它在目录 ENV 里会初始化虚拟环境的相关目录和文件，包括 Python 语言本身的环境以及 pip 等相关程序都会在这个目录里创建（拷贝）一份新的。")]),s._v(" "),n("p",[s._v("例如：创建一个虚拟环境为django，则命令如下：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ virtualenv django\nNew python executable "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /Users/fangzheng/PycharmProjects/django/bin/python\nInstalling setuptools, pip, wheel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".done.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("如果django这个目录不存在，则会自动创建。")]),s._v(" "),n("h3",{attrs:{id:"options"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[s._v("#")]),s._v(" OPTIONS")]),s._v(" "),n("h4",{attrs:{id:"no-site-packages-参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#no-site-packages-参数"}},[s._v("#")]),s._v(" "),n("em",[s._v("--no-site-packages")]),s._v(" 参数：")]),s._v(" "),n("p",[s._v("默认情况下，虚拟环境会依赖系统环境中的 sit package，就是说系统中已经安装好的第三方 package 也会安装在虚拟环境中，如果不想依赖这些 package，那么可以加上 "),n("code",[s._v("--no-site-packages")]),s._v(" 参数建立虚拟环境。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$  virtualenv --no-site-packages "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("虚拟环境名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"system-site-packages-参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#system-site-packages-参数"}},[s._v("#")]),s._v(" "),n("em",[s._v("--system-site-packages")]),s._v(" 参数：")]),s._v(" "),n("p",[s._v("如果你使用 "),n("code",[s._v("--system-site-packages")]),s._v(" 参数创建虚拟环境，你创建的虚拟环境会继承 "),n("em",[s._v("/usr/local/python34/lib/python3.4/site-packages")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ virtualenv --system-site-packages ENV\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"extra-search-dir-参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#extra-search-dir-参数"}},[s._v("#")]),s._v(" "),n("em",[s._v("--extra-search-dir")]),s._v(" 参数：")]),s._v(" "),n("p",[s._v("如果你使用 "),n("code",[s._v("--extra-search-dir")]),s._v(" 参数创建虚拟环境，这允许你提供自己的 setuptools 版本，而不是使用虚拟环境中嵌入的版本。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ virtualenv --extra-search-dir=/path/to/distributions ENV\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("/path/to/distributions 参数：")]),s._v("\n   指定一个包含 setuptools 以及 pip、wheels 等的目录。virtualenv 命令会在指定的目录中，寻找 wheels，但是会使用 pip 的标准的算法来选择安装的 wheel。")]),s._v(" "),n("h3",{attrs:{id:"激活环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#激活环境"}},[s._v("#")]),s._v(" 激活环境")]),s._v(" "),n("p",[s._v("激活命令为：source {虚拟环境目录}bin/activate")]),s._v(" "),n("p",[s._v("例如：激活刚才创建的django环境")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("fangzheng@localhost$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" django\nfangzheng@localhost$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" bin/activate\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  fangzheng@localhost$\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("激活成功后，virtualenv还将修改shell提示符以指示当前活动的环境。这里是（django）")]),s._v(" "),n("h3",{attrs:{id:"关闭环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关闭环境"}},[s._v("#")]),s._v(" 关闭环境")]),s._v(" "),n("p",[s._v("要关闭虚拟环境，不用进入bin目录，只需直接执行deactivate即可。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ deactivate\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"删除环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除环境"}},[s._v("#")]),s._v(" 删除环境")]),s._v(" "),n("p",[s._v("要删除环境，需要先关闭环境，然后直接删除虚拟环境的目录即可。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ deactivate\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -r django\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),n("p",[s._v("命令语法："),n("strong",[s._v("virtualenv [OPTIONS] ENV_DIR")])]),s._v(" "),n("p",[s._v("其中ENV_DIR表示虚拟环境的绝对路径或者相对路径")]),s._v(" "),n("h3",{attrs:{id:"选项列表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#选项列表"}},[s._v("#")]),s._v(" 选项列表")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("选项\n--version\n显示程序的版本号并退出\n\n-h, --help\n显示此帮助消息并退出\n\n-v, --verbose\n增加冗长度。\n\n-q, --quiet\n减少冗长。\n\n-p PYTHON_EXE, --python"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PYTHON_EXE\n要使用的Python解释器，例如-python "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" python2.5，将使用python2.5解释器来创建新环境。默认是virtualenv安装的解释器（如/usr/bin/python）\n\n例如：创建一个python3的虚拟环境\nvirtualenv -p/usr/local/bin/python3 data_quality\n\n--clear\n清除非root用户安装并从头开始。\n\n--system-site-packages\n授予虚拟环境访问全局站点包的权限。\n\n--always-copy\n始终复制文件而不是符号链接。\n\n--relocatable\n使一个现有的virtualenv环境可重定位。这会修复脚本并使所有.pth文件相对。\n\n--unzip-setuptools\n安装时解压缩Setuptools。\n\n--no-setuptools\n不要在新的virtualenv中安装setuptools。\n\n--no-pip\n不要在新的virtualenv中安装pip。\n\n--no-wheel\n不要在新的virtualenv中安装车轮。\n\n--extra-search-dir"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("DIR\n用于查找setuptools / pip分布的目录。可以多次指定此选项。\n\n--prompt"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PROMPT\n为此环境提供备用提示前缀。\n\n--download\n从PyPI下载预安装的软件包。\n\n--no-download\n不要从PyPI下载预安装的软件包。\n\n--no-site-packages\n已过时。仅保留向后兼容性。现在无法访问全局站点包是默认行为。\n\n--distribute\n--setuptools\n遗产"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 现在没有效果。在版本1.10之前，这些可用于选择是否将Distribute或Setuptools安装到创建的virtualenv中。Distribute现已合并到Setuptools中，后者始终安装。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);