(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{574:function(s,t,a){"use strict";a.r(t);var n=a(10),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"python安装django的xadmin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python安装django的xadmin"}},[s._v("#")]),s._v(" Python安装django的xadmin")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://sshwsfc.github.io/xadmin/",target:"_blank",rel:"noopener noreferrer"}},[s._v("xadmin官网"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/sshwsfc/xadmin",target:"_blank",rel:"noopener noreferrer"}},[s._v("xadmin的Github"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://xadmin.readthedocs.io/en/latest/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("xadmin文档"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"xadmin的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xadmin的安装"}},[s._v("#")]),s._v(" xadmin的安装")]),s._v(" "),a("h3",{attrs:{id:"使用pip安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用pip安装"}},[s._v("#")]),s._v(" 使用pip安装")]),s._v(" "),a("p",[s._v("可以直接使用pip安装，但是pip安装的可能不是最新版本，也不好直接改源码")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("pip install xadmin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"使用源码安装-建议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用源码安装-建议"}},[s._v("#")]),s._v(" 使用源码安装(建议)")]),s._v(" "),a("p",[s._v("去https://github.com/sshwsfc/xadmin 下载源码zip包")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Python/Django/006tNbRwgy1fxgvyn08nfj30la0bwq4h.jpg",alt:"image-20181122154619650"}})]),s._v(" "),a("p",[s._v("下载后，解压zip包")]),s._v(" "),a("p",[s._v("得到一个目录")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Python/Django/006tNbRwgy1fxgvzkhze5j30he0b4t9n.jpg",alt:"image-20181122154719101"}})]),s._v(" "),a("p",[s._v("其中requirements.txt是依赖的库，需要提前安装好")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("django>=2\ndjango-crispy-forms>=1.6.0\ndjango-import-export>=0.5.1\ndjango-reversion>=2.0.0\ndjango-formtools==2.1\nfuture==0.15.2\nhttplib2==0.9.2\nsix==1.10.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("也可以直接使用pip安装依赖的库")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -r requirements.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"在项目中使用xadmin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在项目中使用xadmin"}},[s._v("#")]),s._v(" 在项目中使用xadmin")]),s._v(" "),a("p",[s._v("将压缩包里的xadmin目录拷贝到项目的extra_apps目录下")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Python/Django/006tNbRwgy1fxgw30b01nj30fe0c4js7.jpg",alt:"image-20181122155033114"}})]),s._v(" "),a("p",[s._v("并且，设置extra_apps为source root")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Python/Django/006tNbRwgy1fxgw4nuef4j30r20xen5p.jpg",alt:"image-20181122155213041"}})]),s._v(" "),a("h3",{attrs:{id:"配置xadmin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置xadmin"}},[s._v("#")]),s._v(" 配置xadmin")]),s._v(" "),a("h4",{attrs:{id:"配置settings-py"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置settings-py"}},[s._v("#")]),s._v(" 配置settings.py")]),s._v(" "),a("p",[s._v("增加如下内容")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" crispy_forms\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将extra_apps添加到环境变量")]),s._v("\nsys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("insert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BASE_DIR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'extra_apps'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 增加xadmin和crispy_forms两行")]),s._v("\nINSTALLED_APPS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polls.apps.PollsConfig'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.contenttypes'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.sessions'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.messages'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.staticfiles'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xadmin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'crispy_forms'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h4",{attrs:{id:"配置urls-py"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置urls-py"}},[s._v("#")]),s._v(" 配置urls.py")]),s._v(" "),a("p",[s._v("import一个xadmin包，然后把原来的admin链接，改为xadmin")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" url\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contrib "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" admin\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" extra_apps "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" xadmin\n\nurlpatterns "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# url(r'^admin/', admin.site.urls),")]),s._v("\n    url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("r'^admin/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" xadmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polls/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("include"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polls.urls'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# path('admin/', admin.site.urls),")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h4",{attrs:{id:"同步数据表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同步数据表"}},[s._v("#")]),s._v(" 同步数据表")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同步user、auth相关表")]),s._v("\npython manage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py migrate\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\npython manage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py runserver\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"访问后台测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问后台测试"}},[s._v("#")]),s._v(" 访问后台测试")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://localhost:8000/admin/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:8000/admin/"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("看到如下页面，表示配置成功。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/Python/Django/006tNbRwgy1fxgw9acpgbj31ke0p8jtf.jpg",alt:"image-20181122155642707"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);