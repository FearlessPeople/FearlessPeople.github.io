(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{422:function(s,t){s.exports="data:image/png;base64,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"},423:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-30-40.027e2641.png"},424:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-31-04.acaeec9b.png"},425:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-31-15.f934b305.png"},426:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-31-36.0d6ab945.png"},427:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-32-01.e4d56812.png"},428:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-32-14.d27bf1cd.png"},429:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-32-24.447a0240.png"},430:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-32-36.f286327b.png"},431:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-33-09.306b706b.png"},432:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-33-21.d6239d82.png"},433:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-33-29.2efa3e2e.png"},434:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-33-46.b0d46453.png"},435:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-33-58.99e19d92.png"},436:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-34-28.08f87e00.png"},437:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-38-21.9336ced5.png"},438:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-38-39.cac5fe86.png"},439:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-39-07.94bd879d.png"},440:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-39-55.853299f0.png"},441:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-40-08.9c0da66d.png"},442:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-40-34.8fa2714a.png"},443:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-40-59.5bed55a3.png"},444:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-41-11.3614d2ff.png"},445:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-41-24.fb7fac13.png"},446:function(s,t,a){s.exports=a.p+"assets/img/mk-2022-07-30-16-41-35.decf3238.png"},506:function(s,t,a){"use strict";a.r(t);var e=a(10),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("对于互联网公司来说，随着用户量和数据量的不断增加，慢查询是无法避免的问题。一般情况下如果出现慢查询，意味着接口响应慢、接口超时等问题。如果是高并发的场景，可能会出现数据库连接被占满的情况，直接导致服务不可用。\n慢查询的确会导致很多问题，我们要如何优化慢查询呢？\n主要解决办法有：")]),s._v(" "),e("ul",[e("li",[s._v("监控sql执行情况，发邮件、短信报警，便于快速识别慢查询sql")]),s._v(" "),e("li",[s._v("打开数据库慢查询日志功能")]),s._v(" "),e("li",[s._v("简化业务逻辑")]),s._v(" "),e("li",[s._v("代码重构、优化")]),s._v(" "),e("li",[s._v("异步处理")]),s._v(" "),e("li",[s._v("sql优化")]),s._v(" "),e("li",[s._v("索引优化\n其他的办法先不说，后面有机会再单独介绍。今天我重点说说索引优化，因为它是解决慢查询sql问题最有效的手段。\n如何查看某条sql的索引执行情况呢？\n没错，在sql前面加上"),e("code",[s._v("explain")]),s._v("关键字，就能够看到它的执行计划，通过执行计划，我们可以清楚的看到表和索引执行的情况，索引有没有执行、索引执行顺序和索引的类型等。")])]),s._v(" "),e("p",[s._v("索引优化的步骤是：")]),s._v(" "),e("ol",[e("li",[s._v("使用"),e("code",[s._v("explain")]),s._v("查看sql执行计划")]),s._v(" "),e("li",[s._v("判断哪些索引使用不当")]),s._v(" "),e("li",[s._v("优化sql，sql可能需要多次优化才能达到索引使用的最优值")])]),s._v(" "),e("p",[s._v("既然索引优化的第一步是使用"),e("code",[s._v("explain")]),s._v("，我们先全面的了解一下它。")]),s._v(" "),e("h1",{attrs:{id:"explain介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#explain介绍"}},[s._v("#")]),s._v(" explain介绍")]),s._v(" "),e("p",[s._v("先看看mysql的官方文档是怎么描述explain的：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/explain.png",alt:"image-20180926234103957"}})]),s._v(" "),e("ul",[e("li",[s._v("EXPLAIN可以使用于"),e("code",[s._v("SELECT， DELETE， INSERT， REPLACE，和 UPDATE")]),s._v("语句。")]),s._v(" "),e("li",[s._v("当EXPLAIN与可解释的语句一起使用时，MySQL将显示来自优化器的有关语句执行计划的信息。也就是说，MySQL解释了它将如何处理该语句，包括有关如何连接表以及以何种顺序连接表的信息。")]),s._v(" "),e("li",[s._v("当EXPLAIN与非可解释的语句一起使用时，它将显示在命名连接中执行的语句的执行计划。")]),s._v(" "),e("li",[s._v("对于SELECT语句， EXPLAIN可以显示的其他执行计划的警告信息。")])]),s._v(" "),e("h1",{attrs:{id:"explain详解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#explain详解"}},[s._v("#")]),s._v(" explain详解")]),s._v(" "),e("p",[s._v("explain的语法：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("{"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPLAIN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESCRIBE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("} tbl_name "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("col_name "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" wild"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("{"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPLAIN")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESCRIBE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("} "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("explain_type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" {explainable_stmt "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" FORCONNECTION connection_id}explain_type: { "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXTENDED")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" PARTITIONS "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" FORMAT "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" format_name}format_name: { TRADITIONAL "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" JSON}explainable_stmt: { SELECTstatement "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" DELETEstatement "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" INSERTstatement "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" REPLACEstatement "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" UPDATEstatement}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("用一条简单的sql看看使用"),e("code",[s._v("explain")]),s._v("关键字的效果：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("执行结果：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/640.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("从上图中看到执行结果中会显示12列信息，每列具体信息如下：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/explain_col.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("说白了，我们要搞懂这些列的具体含义才能正常判断索引的使用情况。")]),s._v(" "),e("h2",{attrs:{id:"id列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#id列"}},[s._v("#")]),s._v(" id列")]),s._v(" "),e("p",[s._v("该列的值是select查询中的序号，比如：1、2、3、4等，它决定了表的执行顺序。\n某条sql的执行计划中一般会出现三种情况：")]),s._v(" "),e("ol",[e("li",[s._v("id相同")]),s._v(" "),e("li",[s._v("id不同")]),s._v(" "),e("li",[s._v("id相同和不同都有\n那么这三种情况表的执行顺序是怎么样的呢？")])]),s._v(" "),e("h3",{attrs:{id:"_1-id相同"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-id相同"}},[s._v("#")]),s._v(" 1.id相同")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 t1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" test1 t2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/WX20220730-155129@2x.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("我们看到执行结果中的两条数据id都是1，是相同的。")]),s._v(" "),e("ol",[e("li",[s._v("这种情况表的执行顺序是怎么样的呢？\n答案：从上到下执行，先执行表t1，再执行表t2。")]),s._v(" "),e("li",[s._v("执行的表要怎么看呢？\n答案：看table字段，这个字段后面会详细解释。")])]),s._v(" "),e("h3",{attrs:{id:"_2-id不同"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-id不同"}},[s._v("#")]),s._v(" 2.id不同")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 t1 \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 t2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/WX20220730-155226@2x.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("我们看到执行结果中两条数据的id不同，第一条数据是1，第二条数据是2。")]),s._v(" "),e("ol",[e("li",[s._v("这种情况表的执行顺序是怎么样的呢？\n答案：序号大的先执行，这里会从下到上执行，先执行表t2，再执行表t1。")])]),s._v(" "),e("h3",{attrs:{id:"_3-id相同和不同都有"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-id相同和不同都有"}},[s._v("#")]),s._v(" 3.id相同和不同都有")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 t1inner \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" mid "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" t2\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mid\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/WX20220730-155239@2x.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("我们看到执行结果中三条数据，前面两条数据的的id相同，第三条数据的id跟前面的不同。")]),s._v(" "),e("ol",[e("li",[s._v("这种情况表的执行顺序又是怎么样的呢？\n答案：先执行序号大的，先从下而上执行。遇到序号相同时，再从上而下执行。所以这个列子中表的顺序顺序是：test1、t1、")])]),s._v(" "),e("p",[e("strong",[s._v("也许你会在这里心生疑问："),e("code",[s._v("<derived2>")]),s._v(" 是什么鬼？")])]),s._v(" "),e("p",[s._v("它表示派生表，别急后面会讲的。")]),s._v(" "),e("p",[e("strong",[s._v("还有一个问题：id列的值允许为空吗？")]),s._v("\n答案在后面揭晓。")]),s._v(" "),e("h2",{attrs:{id:"select-type列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#select-type列"}},[s._v("#")]),s._v(" select_type列")]),s._v(" "),e("p",[s._v("该列表示select的类型。具体包含了如下11种类型：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/WX20220730-155253@2x.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("但是常用的其实就是下面几个：")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("类型")]),s._v(" "),e("th",[s._v("含义")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("SIMPLE")]),s._v(" "),e("td",[s._v("简单SELECT查询，不包含子查询和UNION")])]),s._v(" "),e("tr",[e("td",[s._v("PRIMARY")]),s._v(" "),e("td",[s._v("复杂查询中的最外层查询，表示主要的查询")])]),s._v(" "),e("tr",[e("td",[s._v("SUBQUERY")]),s._v(" "),e("td",[s._v("SELECT或WHERE列表中包含了子查询")])]),s._v(" "),e("tr",[e("td",[s._v("DERIVED")]),s._v(" "),e("td",[s._v("FROM列表中包含的子查询，即衍生")])]),s._v(" "),e("tr",[e("td",[s._v("UNION")]),s._v(" "),e("td",[s._v("UNION关键字之后的查询")])]),s._v(" "),e("tr",[e("td",[s._v("UNION RESULT")]),s._v(" "),e("td",[s._v("从UNION后的表获取结果集")])])])]),s._v(" "),e("p",[s._v("下面看看这些SELECT类型具体是怎么出现的：")]),s._v(" "),e("h3",{attrs:{id:"simple"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#simple"}},[s._v("#")]),s._v(" SIMPLE")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/WX20220730-155324@2x.png",alt:"image-20180926234103957"}}),s._v("\n它只在简单SELECT查询中出现，不包含子查询和UNION，这种类型比较直观就不多说了。")]),s._v(" "),e("h3",{attrs:{id:"primary-和-subquery"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#primary-和-subquery"}},[s._v("#")]),s._v(" PRIMARY 和 SUBQUERY")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 t1 \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v("  test1 t2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v("  t2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/WX20220730-160332@2x.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("我们看到这条嵌套查询的sql中，最外层的t1表是PRIMARY类型，而最里面的子查询t2表是SUBQUERY类型。")]),s._v(" "),e("h3",{attrs:{id:"derived"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#derived"}},[s._v("#")]),s._v(" DERIVED")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 t1\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" mid "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" t2\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mid\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/DERIVED.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("最后一条记录就是衍生表，它一般是FROM列表中包含的子查询，这里是sql中的分组子查询。")]),s._v(" "),e("h3",{attrs:{id:"union-和-union-result"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#union-和-union-result"}},[s._v("#")]),s._v(" UNION 和 UNION RESULT")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("union")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:"/img/DataBase/MySQL/UNION_UNION_RESULT.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("test2表是UNION关键字之后的查询，所以被标记为UNION")]),s._v(" "),e("p",[s._v("test1是最主要的表，被标记为PRIMARY。")]),s._v(" "),e("p",[s._v("而<union1,2>表示id=1和id=2的表union，其结果被标记为UNION RESULT。")]),s._v(" "),e("p",[s._v("UNION 和 UNION RESULT一般会成对出现。")]),s._v(" "),e("p",[s._v("此外，回答上面的问题："),e("strong",[s._v("id列的值允许为空吗？")])]),s._v(" "),e("p",[s._v("如果仔细看上面那张图，会发现id列是可以允许为空的，并且是在SELECT类型为： UNION RESULT的时候。")]),s._v(" "),e("h2",{attrs:{id:"table列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#table列"}},[s._v("#")]),s._v(" table列")]),s._v(" "),e("p",[s._v("该列的值表示输出行所引用的表的名称，比如前面的：test1、test2等。\n但也可以是以下值之一：")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("<unionM,N>")]),s._v("：具有和id值的行的M并集N。")]),s._v(" "),e("li",[e("code",[s._v("<derivedN>")]),s._v("：用于与该行的派生表结果id的值N。派生表可能来自（例如）FROM子句中的子查询 。")]),s._v(" "),e("li",[e("code",[s._v("<subqueryN>")]),s._v("：子查询的结果，其id值为N")])]),s._v(" "),e("h2",{attrs:{id:"partitions列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#partitions列"}},[s._v("#")]),s._v(" partitions列")]),s._v(" "),e("p",[s._v("该列的值表示查询将从中匹配记录的分区")]),s._v(" "),e("h2",{attrs:{id:"type列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#type列"}},[s._v("#")]),s._v(" type列")]),s._v(" "),e("p",[s._v("该列的值表示连接类型，是查看索引执行情况的一个重要指标。包含如下类型：\n"),e("img",{attrs:{src:"/img/DataBase/MySQL/type.png",alt:"image-20180926234103957"}})]),s._v(" "),e("p",[s._v("执行结果从最好到最坏的的顺序是从上到下。")]),s._v(" "),e("p",[s._v("我们需要重点掌握的是下面几种类型：\n"),e("code",[s._v("system > const > eq_ref > ref > range > index > ALL")])]),s._v(" "),e("p",[s._v("在演示之前，先说明一下test2表中只有一条数据：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(422),alt:""}})]),s._v(" "),e("p",[s._v("并且code字段上面建了一个普通索引：\n"),e("img",{attrs:{src:a(423),alt:""}})]),s._v(" "),e("p",[s._v("下面逐一看看常见的几个连接类型是怎么出现的：")]),s._v(" "),e("h3",{attrs:{id:"system"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system"}},[s._v("#")]),s._v(" system")]),s._v(" "),e("p",[s._v("这种类型要求数据库表中只有一条数据，是const类型的一个特例，一般情况下是不会出现的。")]),s._v(" "),e("h3",{attrs:{id:"const"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#const"}},[s._v("#")]),s._v(" const")]),s._v(" "),e("p",[s._v("通过一次索引就能找到数据，一般用于主键或唯一索引作为条件的查询sql中，执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(424),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"eq-ref"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eq-ref"}},[s._v("#")]),s._v(" eq_ref")]),s._v(" "),e("p",[s._v("常用于主键或唯一索引扫描。执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test2 t1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" test2 t2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(425),alt:""}})]),s._v(" "),e("p",[s._v("此时，有人可能感到不解，const和eq_ref都是对主键或唯一索引的扫描，有什么区别？\n答：const只索引一次，而eq_ref主键和主键匹配，由于表中有多条数据，一般情况下要索引多次，才能全部匹配上。")]),s._v(" "),e("h3",{attrs:{id:"ref"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[s._v("#")]),s._v(" ref")]),s._v(" "),e("p",[s._v("常用于非主键和唯一索引扫描。执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'001'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(426),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"range"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#range"}},[s._v("#")]),s._v(" range")]),s._v(" "),e("p",[s._v("常用于范围查询，比如：between ... and 或 In 等操作，执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(427),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"index"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#index"}},[s._v("#")]),s._v(" index")]),s._v(" "),e("p",[s._v("全索引扫描。执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" code "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(428),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"all"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#all"}},[s._v("#")]),s._v(" ALL")]),s._v(" "),e("p",[s._v("全表扫描。执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(429),alt:""}})]),s._v(" "),e("h2",{attrs:{id:"possible-keys列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#possible-keys列"}},[s._v("#")]),s._v(" possible_keys列")]),s._v(" "),e("p",[s._v("该列表示可能的索引选择。\n请注意，此列完全独立于表的顺序，这就意味着possible_keys在实践中，某些键可能无法与生成的表顺序一起使用。\n"),e("img",{attrs:{src:a(430),alt:""}}),s._v("\n如果此列是NULL，则没有相关的索引。在这种情况下，您可以通过检查该WHERE 子句以检查它是否引用了某些适合索引的列，从而提高查询性能。")]),s._v(" "),e("h2",{attrs:{id:"key列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#key列"}},[s._v("#")]),s._v(" key列")]),s._v(" "),e("p",[s._v("该列表示实际用到的索引。\n可能会出现possible_keys列为NULL，但是key不为NULL的情况。")]),s._v(" "),e("p",[s._v("演示之前，先看看test1表结构：\n"),e("img",{attrs:{src:a(431),alt:""}})]),s._v(" "),e("p",[s._v("test1表中数据：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(432),alt:""}})]),s._v(" "),e("p",[s._v("使用的索引：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(433),alt:""}})]),s._v(" "),e("p",[s._v("code和name字段使用了联合索引。")]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" code  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(434),alt:""}})]),s._v(" "),e("p",[s._v("这条sql预计没有使用索引，但是实际上使用了全索引扫描方式的索引。")]),s._v(" "),e("h2",{attrs:{id:"key-len列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#key-len列"}},[s._v("#")]),s._v(" key_len列")]),s._v(" "),e("p",[s._v("该列表示使用索引的长度。上面的key列可以看出有没有使用索引，key_len列则可以更进一步看出索引使用是否充分。不出意外的话，它是最重要的列。\n"),e("img",{attrs:{src:a(435),alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("有个关键的问题浮出水面：key_len是如何计算的？")]),s._v("\n决定key_len值的三个因素：")]),s._v(" "),e("ol",[e("li",[s._v("字符集")]),s._v(" "),e("li",[s._v("长度")]),s._v(" "),e("li",[s._v("是否为空")])]),s._v(" "),e("p",[s._v("常用的字符编码占用字节数量如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(436),alt:""}})]),s._v(" "),e("p",[s._v("目前我的数据库字符编码格式用的：UTF8占3个字节。\nmysql常用字段占用字节数：")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("字段类型")]),s._v(" "),e("th",[s._v("占用字节数")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("char(n)")]),s._v(" "),e("td",[s._v("n")])]),s._v(" "),e("tr",[e("td",[s._v("varchar(n)")]),s._v(" "),e("td",[s._v("n + 2")])]),s._v(" "),e("tr",[e("td",[s._v("tinyint")]),s._v(" "),e("td",[s._v("1")])]),s._v(" "),e("tr",[e("td",[s._v("smallint")]),s._v(" "),e("td",[s._v("2")])]),s._v(" "),e("tr",[e("td",[s._v("int")]),s._v(" "),e("td",[s._v("4")])]),s._v(" "),e("tr",[e("td",[s._v("bigint")]),s._v(" "),e("td",[s._v("8")])]),s._v(" "),e("tr",[e("td",[s._v("date")]),s._v(" "),e("td",[s._v("3")])]),s._v(" "),e("tr",[e("td",[s._v("timestamp")]),s._v(" "),e("td",[s._v("4")])]),s._v(" "),e("tr",[e("td",[s._v("datetime")]),s._v(" "),e("td",[s._v("8")])])])]),s._v(" "),e("p",[s._v("此外，如果字段类型允许为空则加1个字节。\n上图中的 184是怎么算的？\n184 = 30 * 3 + 2 + 30 * 3 + 2")]),s._v(" "),e("p",[s._v("再把test1表的code字段类型改成char，并且改成允许为空：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(437),alt:""}})]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" code  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(438),alt:""}})]),s._v(" "),e("p",[s._v("怎么算的？\n"),e("code",[s._v("183 = 30 * 3 + 1 + 30 * 3 + 2")])]),s._v(" "),e("p",[e("strong",[s._v("还有一个问题：为什么这列表示索引使用是否充分呢，还有使用不充分的情况？")])]),s._v(" "),e("p",[s._v("执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" code  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" code"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'001'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(439),alt:""}})]),s._v(" "),e("p",[s._v("上图中使用了联合索引：idx_code_name，如果索引全匹配key_len应该是183，但实际上却是92，这就说明没有使用所有的索引，索引使用不充分。")]),s._v(" "),e("h2",{attrs:{id:"ref列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ref列"}},[s._v("#")]),s._v(" ref列")]),s._v(" "),e("p",[s._v("该列表示索引命中的列或者常量\n执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 t1 \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" test1 t2 \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("code"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'001'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(440),alt:""}})]),s._v(" "),e("p",[s._v("我们看到表t1命中的索引是const(常量)，而t2命中的索引是列sue库的t1表的id字段。")]),s._v(" "),e("h2",{attrs:{id:"rows列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rows列"}},[s._v("#")]),s._v(" rows列")]),s._v(" "),e("p",[s._v("该列表示MySQL认为执行查询必须检查的行数。")]),s._v(" "),e("p",[e("img",{attrs:{src:a(441),alt:""}})]),s._v(" "),e("p",[s._v("对于InnoDB表，此数字是估计值，可能并不总是准确的。")]),s._v(" "),e("h2",{attrs:{id:"filtered列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#filtered列"}},[s._v("#")]),s._v(" filtered列")]),s._v(" "),e("p",[s._v("该列表示按表条件过滤的表行的估计百分比。最大值为100，这表示未过滤行。值从100减小表示过滤量增加。")]),s._v(" "),e("p",[e("img",{attrs:{src:a(442),alt:""}})]),s._v(" "),e("p",[s._v("rows显示了检查的估计行数，rows× filtered显示了与下表连接的行数。例如，如果 rows为1000且 filtered为50.00（50％），则与下表连接的行数为1000×50％= 500。")]),s._v(" "),e("h2",{attrs:{id:"extra列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extra列"}},[s._v("#")]),s._v(" Extra列")]),s._v(" "),e("p",[s._v("该字段包含有关MySQL如何解析查询的其他信息，这列还是挺重要的，但是里面包含的值太多，就不一一介绍了，只列举几个常见的。")]),s._v(" "),e("h3",{attrs:{id:"impossible-where"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#impossible-where"}},[s._v("#")]),s._v(" Impossible WHERE")]),s._v(" "),e("p",[s._v("表示WHERE后面的条件一直都是false，\n执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" code  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(443),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"using-filesort"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-filesort"}},[s._v("#")]),s._v(" Using filesort")]),s._v(" "),e("p",[s._v("表示按文件排序，一般是在指定的排序和索引排序不一致的情况才会出现。\n执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" code  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(444),alt:""}})]),s._v(" "),e("p",[s._v("这里建立的是code和name的联合索引，顺序是code在前，name在后，这里直接按name降序，跟之前联合索引的顺序不一样。")]),s._v(" "),e("h3",{attrs:{id:"using-index"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-index"}},[s._v("#")]),s._v(" Using index")]),s._v(" "),e("p",[s._v("表示是否用了覆盖索引，说白了它表示是否所有获取的列都走了索引。\n"),e("img",{attrs:{src:a(445),alt:""}})]),s._v(" "),e("p",[s._v("上面那个例子中其实就用到了：Using index，因为只返回一列code，它字段走了索引。")]),s._v(" "),e("h3",{attrs:{id:"using-temporary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-temporary"}},[s._v("#")]),s._v(" Using temporary")]),s._v(" "),e("p",[s._v("表示是否使用了临时表，一般多见于order by 和 group by语句。\n执行sql如下：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" name  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" test1 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("结果：\n"),e("img",{attrs:{src:a(446),alt:""}})]),s._v(" "),e("h3",{attrs:{id:"using-where"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-where"}},[s._v("#")]),s._v(" Using where")]),s._v(" "),e("p",[s._v("表示使用了where条件过滤。")]),s._v(" "),e("h3",{attrs:{id:"using-join-buffer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-join-buffer"}},[s._v("#")]),s._v(" Using join buffer")]),s._v(" "),e("p",[s._v("表示是否使用连接缓冲。来自较早联接的表被部分读取到联接缓冲区中，然后从缓冲区中使用它们的行来与当前表执行联接。")]),s._v(" "),e("h1",{attrs:{id:"索引优化的过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#索引优化的过程"}},[s._v("#")]),s._v(" 索引优化的过程")]),s._v(" "),e("ol",[e("li",[s._v("先用慢查询日志定位具体需要优化的sql")]),s._v(" "),e("li",[s._v("使用explain执行计划查看索引使用情况")]),s._v(" "),e("li",[s._v("重点关注：\n"),e("ol",[e("li",[s._v("key（查看有没有使用索引）")]),s._v(" "),e("li",[s._v("key_len（查看索引使用是否充分）")]),s._v(" "),e("li",[s._v("type（查看索引类型）")]),s._v(" "),e("li",[s._v("Extra（查看附加信息：排序、临时表、where条件为false等）")]),s._v(" "),e("li",[s._v("一般情况下根据这4列就能找到索引问题。")])])]),s._v(" "),e("li",[s._v("根据上1步找出的索引问题优化sql")]),s._v(" "),e("li",[s._v("再回到第2步")])])])}),[],!1,null,null,null);t.default=r.exports}}]);