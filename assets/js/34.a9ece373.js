(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{473:function(t,a,s){"use strict";s.r(a);var n=s(10),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"hive介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hive介绍"}},[t._v("#")]),t._v(" Hive介绍")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cwiki.apache.org/confluence/display/Hive/GettingStarted",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1),t._v("说Hive是一个数据仓库基础"),s("strong",[t._v("工具")]),t._v("，在Hadoop中用来处理结构化数据。它架构在Hadoop之上，总归为大数据，并使得查询和分析方便。并提供简单的sql查询功能，可以将sql语句转换为MapReduce任务进行运行。")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("Hive底层是将基础SQL语句转换为MapReduce程序进行运行，所以可以理解为Hive是MapReduce的一个客户端工具")])]),t._v(" "),s("p",[s("strong",[t._v("Hive 不是")])]),t._v(" "),s("ul",[s("li",[t._v("一个关系数据库")]),t._v(" "),s("li",[t._v("一个设计用于联机事务处理（OLTP）")]),t._v(" "),s("li",[t._v("实时查询和行级更新的语言")])]),t._v(" "),s("p",[s("strong",[t._v("Hive 特点")])]),t._v(" "),s("ul",[s("li",[t._v("它存储架构在一个数据库中并处理数据到HDFS。")]),t._v(" "),s("li",[t._v("它是专为OLAP设计。")]),t._v(" "),s("li",[t._v("它提供SQL类型语言查询叫HiveQL或HQL。")]),t._v(" "),s("li",[t._v("它是熟知，快速，可扩展和可扩展的。")])]),t._v(" "),s("h2",{attrs:{id:"hive架构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hive架构"}},[t._v("#")]),t._v(" Hive架构")]),t._v(" "),s("p",[t._v("下图介绍了Hive的架构")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/BigData/Hive/006tKfTcly1fqkdd0pf9qj30go0963zf.jpg",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("User Interfaces")]),t._v("：Hive为用户提供了3个接口，WebUI，命令行接口，HD洞察（在Windows服务器）")]),t._v(" "),s("p",[s("strong",[t._v("Meta Store")]),t._v("：元数据存储，Hive的运行需要元数据，Hive其实就是将HDFS上的文件映射成一张数据库表，该数据库表中存储了元数据信息。")]),t._v(" "),s("p",[s("strong",[t._v("Hive QL Process Engine")]),t._v("：Hive QL的处理引擎，类似于SQL的查询，替代了传统使用Java编写MapReduce的方式。")]),t._v(" "),s("p",[s("strong",[t._v("Execution Engine")]),t._v("：执行引擎，HiveQL和MapReduce的结果需要Hive执行引擎来处理")]),t._v(" "),s("p",[s("strong",[t._v("HDFS or HBASE")]),t._v("：Hive可以读取HDFS上的数据或者HBASE上的数据")]),t._v(" "),s("h2",{attrs:{id:"hive工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hive工作原理"}},[t._v("#")]),t._v(" Hive工作原理")]),t._v(" "),s("p",[t._v("下图介绍了Hive连接Hadoop的工作原理")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/BigData/Hive/006tKfTcly1fqkdjefm16j30gp09zwfd.jpg",alt:""}})]),t._v(" "),s("ol",[s("li",[t._v("Hive的接口（如命令行或者WebUI）发出查询驱动程序。")]),t._v(" "),s("li",[t._v("根据驱动程序的帮助，查询编译器。用于分析检查SQL语法和查询计划或查询的要求。")]),t._v(" "),s("li",[t._v("编译将SQL编译完后，读取元数据信息。")]),t._v(" "),s("li",[t._v("元数据存储库响应请求，返回该SQL的元数据信息。")]),t._v(" "),s("li",[t._v("编译器再次检查要求，并重新发送计划给驱动程序。到此，查询解析和编译就完成了。")]),t._v(" "),s("li",[t._v("驱动程序发送执行计划到执行引擎。")]),t._v(" "),s("li",[t._v("执行作业的过程其实就是执行MapReduce程序，执行引擎会将作业发送给Job Tracker，Job Tracker会分配作业到相应的Task Tracker。Task Tracker负责执行MapReduce工作。")]),t._v(" "),s("li",[t._v("执行引擎会接收数据节点处理的结果。")]),t._v(" "),s("li",[t._v("执行引擎将处理的结果发给驱动程序。")]),t._v(" "),s("li",[t._v("驱动程序再将结果响应给用户接口。")])]),t._v(" "),s("h2",{attrs:{id:"hive的安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hive的安装"}},[t._v("#")]),t._v(" Hive的安装")]),t._v(" "),s("p",[t._v("Hive的安装有3种方式")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("嵌入方式")]),t._v("：将Hive的元数据存储在derby数据库中，该方式只能创建一个连接。")]),t._v(" "),s("li",[s("strong",[t._v("本地模式")]),t._v("：将Hive的元数据存储在另外的数据库中")]),t._v(" "),s("li",[s("strong",[t._v("远程模式")]),t._v("：Hive的元数据信息保存在另外服务器上，数据库不和hive在同一台机器上。")])]),t._v(" "),s("p",[t._v("Hive的安装很简单，直接下载解压。直接就可以启动了。")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("注意：Hive依赖于Hadoop和JDK，最好也要把zookeeper给安装好。")])]),t._v(" "),s("h3",{attrs:{id:"hive的下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hive的下载"}},[t._v("#")]),t._v(" Hive的下载")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://www-us.apache.org/dist/hive/hive-1.2.2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("hive-1.2.2下载地址"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("下载apache-hive-1.2.2-bin.tar.gz")]),t._v(" "),s("p",[t._v("解压apache-hive-1.2.2-bin.tar.gz 文件")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf apache-hive-1.2.2-bin.tar.gz\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"切换hive的元数据存储derby为mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换hive的元数据存储derby为mysql"}},[t._v("#")]),t._v(" 切换Hive的元数据存储derby为Mysql")]),t._v(" "),s("p",[t._v("由于Hive运行时需要存储元数据信息，而Hive默认使用Apache derby数据库")]),t._v(" "),s("p",[t._v("Apache Derby是一个完全用 java 编写的数据库，Derby是一个Open source的产品。")]),t._v(" "),s("p",[t._v("Apache Derby非常小巧，核心部分derby.jar只有2M，既可以做为单独的数据库服务器使用，也可以内嵌在应用程序中使用。")]),t._v(" "),s("p",[s("strong",[t._v("Derby的特点")])]),t._v(" "),s("ol",[s("li",[t._v("Derby定位是小型数据库, 特别是嵌入式. 支持的数据库小于50GB, 对于小型网站, 事务不复杂的应用, 使用它的还是很不错的. 另外大型桌面应用也可以用它来保存配置和其他数据, 可以做到与文件格式无关, 因为都是访问数据库.")]),t._v(" "),s("li",[t._v("功能： Derby支持标准SQL92, SQL1999, SQL2003, 支持临时表, 索引, 触发器, 视图, 存储过程, 外键, 约束, 并行, 事务, 加密与安全等. 只要有JDK(>=1.3), 就可以运行Derby.")]),t._v(" "),s("li",[t._v("安全性：Derby的安全性也做得很到位, 包括用户鉴权和加密解密.")]),t._v(" "),s("li",[t._v("性能：Derby的性能也是不错的.在插入100万条记录时, CPU的占用率一直低于40%, 平均每插一条记录耗时小于0.3毫秒. 这对于满足桌面应用程序是绰绰有余的. 但是比Oracle、MySql等专业数据库性能要低。")])]),t._v(" "),s("p",[t._v("由于Derby的性能低，所以这里我们把hive的元数据存储在mysql上")]),t._v(" "),s("h4",{attrs:{id:"切换derby为mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换derby为mysql"}},[t._v("#")]),t._v(" 切换derby为MySQL")]),t._v(" "),s("p",[t._v("编辑"),s("code",[t._v("/usr/local/hadoop/hive-1.2.2/conf/hive-default.xml.template")]),t._v("文件，这里为了方便。我们备份一个"),s("code",[t._v("hive-default.xml")]),t._v("文件出来")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" hive-default.xml.template hive-site.xml\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("然后在hive-site.xml中修改如下配置项。")]),t._v(" "),s("p",[t._v("也可以直接新建hive-site.xml文件，拷贝如下内容即可。")]),t._v(" "),s("p",[s("strong",[t._v("hive-site.xml")]),t._v("内容如下：")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8" standalone="no"?>')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("javax.jdo.option.ConnectionUserName"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("root"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Username to use against metastore database"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("javax.jdo.option.ConnectionPassword"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("123456"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("password to use against metastore database"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("javax.jdo.option.ConnectionDriverName"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.mysql.cj.jdbc.Driver"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Driver class name for a JDBC metastore"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("javax.jdo.option.ConnectionURL"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jdbc:mysql://mini1:3306/hive_metadata?useUnicode=true"),s("span",{pre:!0,attrs:{class:"token entity named-entity",title:"&"}},[t._v("&amp;")]),t._v("characterEncoding=UTF-8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("JDBC connect string for a JDBC metastore"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hive.metastore.schema.verification"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hive.exec.parallel.thread.number"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("How many jobs at most can be executed in parallel"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br")])]),s("h4",{attrs:{id:"拷贝mysql驱动包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拷贝mysql驱动包"}},[t._v("#")]),t._v(" 拷贝MySQL驱动包")]),t._v(" "),s("p",[t._v("将mysql-connector-java-5.1.14.jar拷贝到Hive安装的lib目录"),s("code",[t._v("/usr/local/hadoop/hive-1.2.2/lib")]),t._v("下。")]),t._v(" "),s("h4",{attrs:{id:"初始化hive元数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化hive元数据"}},[t._v("#")]),t._v(" 初始化hive元数据")]),t._v(" "),s("p",[t._v("在hive的bin目录下执行如下代码，进行初始化metadata")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@mini1 bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./schematool -dbType mysql -initSchema")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"hive的启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hive的启动"}},[t._v("#")]),t._v(" Hive的启动")]),t._v(" "),s("p",[t._v("直接执行Hive的bin目录下的hive可执行文件即可。")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@mini1 bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./hive")]),t._v("\nLogging initialized using configuration "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" jar:file:/usr/local/hadoop/hive-1.2.2/lib/hive-common-1.2.2.jar"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("/hive-log4j.properties\nJava HotSpot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Client VM warning: You have loaded library /usr/local/hadoop/hadoop-2.7.4/lib/native/libhadoop.so.1.0.0 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" might have disabled stack guard. The VM will try to fix the stack guard now.\nIt"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s highly recommended that you fix the library with '")]),t._v("execstack -c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("libfile"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("', or link it with '")]),t._v("-z noexecstack'.\nhive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("启动完成可以看到hive>的命令提示符，表示启动成功。")]),t._v(" "),s("h2",{attrs:{id:"参考文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[t._v("#")]),t._v(" 参考文档")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cwiki.apache.org/confluence/display/Hive/GettingStarted",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.yiibai.com/hive/",target:"_blank",rel:"noopener noreferrer"}},[t._v("易百教程"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);