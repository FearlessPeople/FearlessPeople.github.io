(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{462:function(a,s,n){"use strict";n.r(s);var t=n(10),e=Object(t.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),n("h3",{attrs:{id:"必要条件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#必要条件"}},[a._v("#")]),a._v(" 必要条件")]),a._v(" "),n("ol",[n("li",[a._v("Java1.8及更高版本")]),a._v(" "),n("li",[a._v("足够的内存，大部分情况channels都使用的是内存来缓存")]),a._v(" "),n("li",[a._v("足够的磁盘空间")]),a._v(" "),n("li",[a._v("目录的读写权限")])]),a._v(" "),n("p",[a._v("Flume的安装很简单，直接下载然后解压使用即可。\n下载地址："),n("a",{attrs:{href:"http://www-us.apache.org/dist/flume/1.7.0/apache-flume-1.7.0-bin.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://www-us.apache.org/dist/flume/1.7.0/apache-flume-1.7.0-bin.tar.gz"),n("OutboundLink")],1),a._v("\n本次使用的版本是1.7.0，下载后将Flume解压到你喜欢的目录\n这里我解压到了/usr/local/hadoop/flume-1.7.0目录中。为了以后使用命令方便，我将Flume加入了环境变量中\n"),n("strong",[a._v("在/etc/profile中增加如下内容")])]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("FLUME_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/hadoop/flume-1.7.0\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$FLUME_HOME")]),a._v("/bin\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("p",[a._v("然后执行source /etc/profile使配置立即生效")]),a._v(" "),n("h2",{attrs:{id:"使用flume"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用flume"}},[a._v("#")]),a._v(" 使用Flume")]),a._v(" "),n("p",[a._v("Flume的原理及架构已经了解的情况下，我们知道要使用Flume需要先配置agent，这里参照官方文档"),n("a",{attrs:{href:"http://flume.apache.org/FlumeUserGuide.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://flume.apache.org/FlumeUserGuide.html"),n("OutboundLink")],1),a._v("上的一个简单例子。")]),a._v(" "),n("h3",{attrs:{id:"配置agent"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置agent"}},[a._v("#")]),a._v(" 配置agent")]),a._v(" "),n("p",[a._v("其中，agent的配置如下：")]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# example.conf: A single-node Flume configuration")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Name the components on this agent")]),a._v("\na1.sources "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" r1\na1.sinks "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" k1\na1.channels "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" c1\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Describe/configure the source")]),a._v("\na1.sources.r1.type "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" netcat\na1.sources.r1.bind "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" localhost\na1.sources.r1.port "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("44444")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Describe the sink")]),a._v("\na1.sinks.k1.type "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" logger\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Use a channel which buffers events in memory")]),a._v("\na1.channels.c1.type "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" memory\na1.channels.c1.capacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v("\na1.channels.c1.transactionCapacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Bind the source and sink to the channel")]),a._v("\na1.sources.r1.channels "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" c1\na1.sinks.k1.channel "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" c1\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br")])]),n("p",[a._v("配置说明：\n以上配置中指定了source，sinks，channels\n"),n("strong",[a._v("sources")]),a._v("：使用的是netcat命令，监控localhost主机44444端口的输出内容\n"),n("strong",[a._v("sink")]),a._v("：这里是sink输出到logger中，也就是启动agent后的控制台页面上\n"),n("strong",[a._v("channels")]),a._v("：这里的管道使用的是内存来缓存信息，最大容量1000")]),a._v(" "),n("h3",{attrs:{id:"启动agent"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动agent"}},[a._v("#")]),a._v(" 启动agent")]),a._v(" "),n("p",[a._v("参照官网例子，得知启动命令如下")]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("$ bin/flume-ng agent -n "),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$agent_name")]),a._v(" -c conf -f conf/flume-conf.properties.template\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("需要传入你要启动的agent的name以及agent配置文件的路径，所以得到如下最终命令：")]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("$ flume-ng agent --conf conf --conf-file /usr/local/hadoop/flume-1.7.0/conf-example/netcat-console.conf --name a1 -Dflume.root.logger"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("INFO,console\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("--conf-file：命令中指定了配置文件为**/usr/local/hadoop/flume-1.7.0/conf-example/netcat-console.conf** ，如果不加绝对路径表示当前目录\n--name：指定了配置文件中agent的名称是a1\n-Dflume.root.logger：指定了flume日志信息输出到控制台中\n执行以上命令，得到如下效果：")]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@hadoop1 conf-example"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# flume-ng agent --conf conf --conf-file /usr/local/hadoop/flume-1.7.0/conf-example/netcat-console.conf --name a1 -Dflume.root.logger=INFO,console")]),a._v("\nInfo: Including Hadoop libraries found via "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("/usr/local/hadoop/hadoop-2.7.4/bin/hadoop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" HDFS access\nInfo: Including Hive libraries found via "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" Hive access\n+ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" /usr/java/jdk1.8.0_131/bin/java -Xmx20m -Dflume.root.logger"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("INFO,console -cp "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'conf:/usr/local/hadoop/flume-1.7.0/lib/*:/usr/local/hadoop/hadoop-2.7.4/etc/hadoop:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/common/lib/*:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/common/*:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/hdfs:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/hdfs/lib/*:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/hdfs/*:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/yarn/lib/*:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/yarn/*:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/mapreduce/lib/*:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/mapreduce/*:/usr/local/hadoop/hadoop-2.7.4/contrib/capacity-scheduler/*.jar:/lib/*'")]),a._v(" -Djava.library.path"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(":/usr/local/hadoop/hadoop-2.7.4/lib org.apache.flume.node.Application --conf-file /usr/local/hadoop/flume-1.7.0/conf-example/netcat-console.conf --name a1\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("jar:file:/usr/local/hadoop/flume-1.7.0/lib/slf4j-log4j12-1.6.1.jar"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("/org/slf4j/impl/StaticLoggerBinder.class"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nSLF4J: Found binding "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("jar:file:/usr/local/hadoop/hadoop-2.7.4/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("/org/slf4j/impl/StaticLoggerBinder.class"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nSLF4J: See http://www.slf4j.org/codes.html"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#multiple_bindings for an explanation.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.PollingPropertiesFileConfigurationProvider: Configuration provider starting\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.PollingPropertiesFileConfigurationProvider: Reloading configuration file:/usr/local/hadoop/flume-1.7.0/conf-example/netcat-console.conf\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO conf.FlumeConfiguration: Added sinks: k1 Agent: a1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO conf.FlumeConfiguration: Processing:k1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO conf.FlumeConfiguration: Processing:k1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO conf.FlumeConfiguration: Post-validation flume configuration contains configuration "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" agents: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("a1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.AbstractConfigurationProvider: Creating channels\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO channel.DefaultChannelFactory: Creating instance of channel c1 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" memory\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.AbstractConfigurationProvider: Created channel c1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO source.DefaultSourceFactory: Creating instance of "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" r1, "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" netcat\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO sink.DeflaultSinkFactory: Creating instance of sink: k1, type: logger\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.AbstractConfigurationProvider: Channel c1 connected to "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("r1, k1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.Application: Starting new configuration:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" sourceRunners:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("r1"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("EventDrivenSourceRunner: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" source:org.apache.flume.source.NetcatSource"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("name:r1,state:IDLE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" sinkRunners:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("k1"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("SinkRunner: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" policy:org.apache.flume.sink.DefaultSinkProcessor@1b4b27c counterGroup:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" name:null counters:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" channels:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("c1"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("org.apache.flume.channel.MemoryChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("name: c1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.Application: Starting Channel c1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO instrumentation.MonitoredCounterGroup: Monitored counter group "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" type: CHANNEL, name: c1: Successfully registered new MBean.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO instrumentation.MonitoredCounterGroup: Component type: CHANNEL, name: c1 started\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.Application: Starting Sink k1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO node.Application: Starting Source r1\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO source.NetcatSource: Source starting\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("17")]),a._v("/10/18 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(":35:32 INFO source.NetcatSource: Created serverSocket:sun.nio.ch.ServerSocketChannelImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("/127.0.0.1:44444"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br")])]),n("p",[a._v("打开一个新终端窗口，连接到localhost的44444端口。这里需要你的环境中安装了telnet工具，如果没装可以使用yum install命令进行安装")]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@hadoop1 conf-example"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# telnet localhost 44444")]),a._v("\nTrying ::1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\ntelnet: connect to address ::1: Connection refused\nTrying "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nConnected to localhost.\nEscape character is "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'^]'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n在这里输入内容，然后回车即可\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br")])]),n("h3",{attrs:{id:"验证结果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证结果"}},[a._v("#")]),a._v(" 验证结果")]),a._v(" "),n("p",[a._v("分别查看telnet窗口输入的内容和启动agent终端窗口的输出结果\n"),n("img",{attrs:{src:"/img/BigData/Flume/0069RVTdgy1fu4fnizxnsj30uc0audhm.jpg",alt:"img"}}),a._v(" "),n("img",{attrs:{src:"/img/BigData/Flume/0069RVTdgy1fu4fnl4066j31kw03675m.jpg",alt:"img"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);