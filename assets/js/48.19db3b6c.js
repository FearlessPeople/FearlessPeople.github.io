(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{490:function(e,t,a){"use strict";a.r(t);var n=a(10),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),a("p",[e._v("今天在使用JavaAPI来连接sqoop1.99.7的时候，遇到了个错误。\n错误信息如下：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('[main] WARN  org.apache.hadoop.util.NativeCodeLoader  - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nException in thread "main" org.apache.sqoop.common.SqoopException: CLIENT_0004:Unable to find valid Kerberos ticket cache (kinit)\nat org.apache.sqoop.client.request.ResourceRequest.doHttpRequest(ResourceRequest.java:159)\nat org.apache.sqoop.client.request.ResourceRequest.doHttpRequest(ResourceRequest.java:69)\nat org.apache.sqoop.client.request.ResourceRequest.get(ResourceRequest.java:179)\nat org.apache.sqoop.client.request.JobResourceRequest.read(JobResourceRequest.java:65)\nat org.apache.sqoop.client.request.SqoopResourceRequests.readJob(SqoopResourceRequests.java:146)\nat org.apache.sqoop.client.SqoopClient.getJobs(SqoopClient.java:403)\nat com.fz.hadoop.sqoop.SqoopTest.main(SqoopTest.java:18)\nCaused by: org.apache.hadoop.security.authentication.client.AuthenticationException: Authentication failed, status: 404, message: Not Found\nat org.apache.hadoop.security.authentication.client.AuthenticatedURL.extractToken(AuthenticatedURL.java:275)\nat org.apache.hadoop.security.authentication.client.PseudoAuthenticator.authenticate(PseudoAuthenticator.java:77)\nat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticator.authenticate(DelegationTokenAuthenticator.java:131)\nat org.apache.hadoop.security.authentication.client.KerberosAuthenticator.authenticate(KerberosAuthenticator.java:214)\nat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticator.authenticate(DelegationTokenAuthenticator.java:131)\nat org.apache.hadoop.security.authentication.client.AuthenticatedURL.openConnection(AuthenticatedURL.java:215)\nat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticatedURL.openConnection(DelegationTokenAuthenticatedURL.java:322)\nat org.apache.hadoop.security.token.delegation.web.DelegationTokenAuthenticatedURL.openConnection(DelegationTokenAuthenticatedURL.java:245)\nat org.apache.sqoop.client.request.ResourceRequest.doHttpRequest(ResourceRequest.java:79)\n... 6 more\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br")])]),a("p",[a("strong",[e._v("问题分析：")]),e._v("\n从报错信息上看貌似是Authentication认证的一些错误")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("网上找了查了很多都没发现解决方案。")])]),e._v(" "),a("li",[a("p",[e._v("从官网security Authentication章节也没看到好的解决方案，想要配置Kerberos相关的Authentication，一看太麻烦感觉也不太靠谱\n"),a("a",{attrs:{href:"http://sqoop.apache.org/docs/1.99.7/security/AuthenticationAndAuthorization.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://sqoop.apache.org/docs/1.99.7/security/AuthenticationAndAuthorization.html"),a("OutboundLink")],1)])])]),e._v(" "),a("h2",{attrs:{id:"解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[e._v("#")]),e._v(" 解决方案")]),e._v(" "),a("p",[e._v("无意中在"),a("a",{attrs:{href:"http://blog.csdn.net/jiacai2050/article/details/59117645",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://blog.csdn.net/jiacai2050/article/details/59117645"),a("OutboundLink")],1),e._v("这篇文章中发现了希望")]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/BigData/Sqoop/006tNc79ly1fz7olio3vyj319i03yjst.jpg",alt:"img"}})]),e._v(" "),a("p",[e._v("所以，我试着在url后面加上/，果然好使了。\n我的代码如下：")]),e._v(" "),a("p",[a("strong",[e._v("没加/之前")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/BigData/Sqoop/006tNc79ly1fz7olbyhz3j318p0u0ajj.jpg",alt:"img"}})]),e._v(" "),a("p",[a("strong",[e._v("url加上/后")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/img/BigData/Sqoop/006tNc79ly1fz7olgykloj30si0g2dmu.jpg",alt:"img"}})])])}),[],!1,null,null,null);t.default=o.exports}}]);